@echo off
chcp 65001 >nul
title SOVEREIGN AI - CLEAN EDITION
color 0A

echo ?????????????????????????????????????????????????????????????
echo ?              SOVEREIGN AI - CLEAN EDITION                ?
echo ?         The ONLY files you need. Nothing else.           ?
echo ?????????????????????????????????????????????????????????????
echo.

set CLEAN_ROOT=G:\okiru\app builder\RezStackFinal2\RezStackFinal-CLEAN

echo [1/5] ?? Stopping existing processes...
taskkill /f /im node.exe >nul 2>&1
taskkill /f /im python.exe >nul 2>&1
timeout /t 2 /nobreak >nul
echo   ? Done

echo [2/5] ?? Starting Ollama...
start "" "C:\Users\Zphoenix\AppData\Local\Programs\Ollama\Ollama.exe"
timeout /t 5 /nobreak >nul
echo   ? Ollama ready

echo [3/5] ?? Starting JARVIS API...
start "JARVIS API" /MIN cmd /c "cd /d "%CLEAN_ROOT%\src\sovereign-jarvis" && python main.py"
timeout /t 3 /nobreak >nul
echo   ? JARVIS API on port 8002

echo [4/5] ?? Starting Constitutional Bridge...
start "Constitutional Bridge" /MIN cmd /c "cd /d "%CLEAN_ROOT%\src\constitutional_bridge" && python main.py"
timeout /t 3 /nobreak >nul
echo   ? Constitutional Bridge on port 8001

echo [5/5] ?? Starting Generative IDE...
cd /d "%CLEAN_ROOT%"
call npm install >nul 2>&1
start "Generative IDE" /MIN cmd /c "cd /d "%CLEAN_ROOT%" && npm run dev"
timeout /t 8 /nobreak >nul

echo.
echo ?????????????????????????????????????????????????????????????
echo ?         ? SOVEREIGN AI - CLEAN EDITION RUNNING!         ?
echo ?????????????????????????????????????????????????????????????
echo.
echo ?? Generative IDE: http://localhost:5176/ide
echo.
echo ?? Terminal commands: ls, cd, cat, scan, fix
echo.
echo ?? Opening browser...
timeout /t 2 /nobreak >nul
start http://localhost:5176/ide
echo.
pause
